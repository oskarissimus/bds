<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Language - bds programming language</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Language";
    var mkdocs_page_input_path = "language.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> bds programming language</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Manual</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../download/">Download</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../syntax_highlight/">Syntax highlight</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../hello/">Hello world</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Language</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#comments">Comments</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#statements">Statements</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#break">break</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#breakpoint">breakpoint</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#continue">continue</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#debug">debug</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dep">dep</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#error">error</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#exit">exit</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#for">for</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#for-lists">for (lists)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#goal">goal</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#if-else">if / else</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#include">include</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#kill">kill</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#par">par</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#print-println">print / println</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#return">return</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#sys">sys</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#switch">switch</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#task">task</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ternary-operator-cond-exprtrue-exprfalse">Ternary operator cond ? exprTrue : exprFalse</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#throw">throw</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#try-catch-finally">try / catch / finally</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#variable-assignment">Variable assignment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#variable-assignment-multiple">Variable assignment (multiple)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#variable-declarations">Variable declarations</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#wait">wait</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#warning">warning</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#while">while</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#function-definition">Function definition</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../special/">Special operators</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../data_types/">Data types</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../classes/">Classes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../functions/">Functions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../global_vars/">Global variables</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipelines/">Pipelines</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../sys/">Sys</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../task/">Tasks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../task_detached/">Tasks: Detached</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../task_imp/">Tasks: Improper</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../task_aws/">Tasks: Cloud AWS</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../task_resources/">Tasks: Resources</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../wait/">Wait</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dep_op/">Dependency operator</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../goal/">Goal</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../remote_files/">Remote files</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../par/">Parallel execution</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../checkpoints/">Checkpoints</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../test_cases/">Test cases</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../debugger/">Debugger</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cmdline/">Command line parsing</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../help/">Command line help</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../logging/">Logging</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reports/">Reports</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cleanup/">Cleanup</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bdscmdline/">bds command line</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bdsconfig/">Config file</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bds_vm/">Bds VM</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">bds programming language</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Manual &raquo;</li>
        
      
    
    <li>Language</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="language">Language</h1>
<p>Learning bds language (<code>bds</code>) is almost trivial, all the statements and expression and data types do what you expect.</p>
<p>bds is really simple and you should be able to code within a few minutes. This section is intended as a reference, so just glance through it.</p>
<h3 id="comments">Comments</h3>
<p>The usual statements are available</p>
<pre><code>// Single line comment

# Another single line comment

/*
   Multi-line comment
*/
</code></pre>
<h3 id="statements">Statements</h3>
<p>Statements can be terminated either by semicolon or by a new line.</p>
<pre><code># Two statements
print &quot;Hi\n&quot;; print &quot;Bye\n&quot;;

# Two statements, same as before but using lines instead of semicolon
print &quot;Hi\n&quot; 
print &quot;Bye\n&quot;
</code></pre>
<h3 id="break"><code>break</code></h3>
<p>Breaks from current loop</p>
<pre><code>for( int i=0 ; i &lt; 10 ; i++ ) {
    if( i == 5 ) break;    // Finish when we reach 5
}
</code></pre>
<h3 id="breakpoint"><code>breakpoint</code></h3>
<p>Inserts a debugging breakpoint. I.e. when the statement is executed, <code>bds</code> switches execution to debug mode (STEP)</p>
<pre><code>breakpoint &quot;Program execution will switch do debug mode here!\n&quot;
</code></pre>
<h3 id="continue"><code>continue</code></h3>
<p>Continue at the end of the current loop</p>
<pre><code>for( int i=0 ; i &lt; 10 ; i++ ) {
    if( i == 5 ) continue;  // Skip value 5
}
</code></pre>
<h3 id="debug"><code>debug</code></h3>
<p>Show a debug message on STDERR only if <code>bds</code> is running in 'debug' mode (otherwise the statement is ignored).</p>
<pre><code>debug &quot;Show this message only if we are in debug mode!\n&quot;
</code></pre>
<h3 id="dep"><code>dep</code></h3>
<p>Define a task dependency in a declarative manner.
<a href="../goal/">See details in the "goal" section</a></p>
<h3 id="error"><code>error</code></h3>
<p>Show an error message and exit the program</p>
<pre><code>if( num &lt;= 0 )  error &quot;Number MUST be positive\n&quot;
</code></pre>
<h3 id="exit"><code>exit</code></h3>
<p>Exit program, with an <code>exitValue</code> that is returned to the operating system, as the command line's exit code</p>
<pre><code>exit 1
</code></pre>
<p>How exit value is calculated:</p>
<ul>
<li>If the program uses <code>exit value</code>, the value is used</li>
<li>The exit code will be non-zero if any of the following happens:<ul>
<li>There is a fatal error</li>
<li>There is an (un-caught) exception</li>
<li>A <code>task</code> fails, is killed, or otherwise finishes un-successfully (unless 'canFail' is set to true in the task)</li>
</ul>
</li>
</ul>
<h3 id="for"><code>for</code></h3>
<p>Similar to C or Java <code>for</code> loops</p>
<pre><code>for( int i=0 ; i &lt; 10 ; i++ ) print(&quot;$i\n&quot;)
</code></pre>
<p>or</p>
<pre><code>for( int i=0 ; i &lt; 10 ; i++ ) {
    print(&quot;$i\n&quot;)
}
</code></pre>
<h3 id="for-lists"><code>for (lists)</code></h3>
<p>Java-like for iterator on lists</p>
<pre><code>string[] mylist

// ... some code to populate the list

for( string s : mylist ) print(&quot;$s\n&quot;)
</code></pre>
<h3 id="goal"><code>goal</code></h3>
<p>Define a task DAG objective in a declarative maner.
<a href="../goal/">See details in the "goal" section</a></p>
<h3 id="if-else"><code>if / else</code></h3>
<p>It does exactly what you expect</p>
<pre><code>if( i &lt; 10 )    print(&quot;Less than ten\n&quot;)
</code></pre>
<pre><code>                or
</code></pre>
<pre><code>if( i &lt; 10 ) {
    print(&quot;Less than ten\n&quot;)
} else if( i &lt;= 20 ) {
    print(&quot;Between ten and twenty\n&quot;)
} else {
    print(&quot;More than twenty\n&quot;)
}
</code></pre>
<h3 id="include"><code>include</code></h3>
<p>Include source code from another file</p>
<pre><code>include &quot;mymodule&quot;

// ... use functions from 'mymodule.bds'
</code></pre>
<h3 id="kill"><code>kill</code></h3>
<p>Kill a task</p>
<pre><code>kill taskId
</code></pre>
<h3 id="par"><code>par</code></h3>
<p>Execute a bds thread in parallel.
<a href="../par/">See details in the "par" section</a></p>
<h3 id="print-println"><code>print / println</code></h3>
<p>Print to <code>STDOUT</code></p>
<pre><code>print &quot;Show this mesage without a new line at the end.&quot;
println &quot;This one gets a new line at the end.&quot;
</code></pre>
<h3 id="return"><code>return</code></h3>
<p>Return from a function. Optional expression is a return value.</p>
<pre><code>// Define a function
int twice(int n) {
    return( 2 * n )
}
</code></pre>
<h3 id="sys"><code>sys</code></h3>
<p>Execute a command line. <a href="../sys/">See details in the "sys" section</a></p>
<h3 id="switch"><code>switch</code></h3>
<p>Switch statements are similar to multiple <code>if / else if</code> statements</p>
<pre><code>in := 'x'
out := 1

switch( in ) {
    case 'a': 
        out *= 3
        break

    case 'z'+'x':   # Note that the 'case' expressions are evaluated at run time (you can even call functions here)
        out *= 5    # Note that this falls through to &quot;case 'b'&quot;

    case 'b':
        out *= 7
        break

    default:        # You can define 'default' anywhere (no need to do it after 'case')
        out *= 100
}
</code></pre>
<h3 id="task"><code>task</code></h3>
<p>A <code>task</code> expression defines a task to be executed.</p>
<p>See details in the following sections:</p>
<ul>
<li><a href="../task/">Task</a></li>
<li><a href="../task_detached/">Task detached</a></li>
<li><a href="../task_imp/">Task improper</a></li>
<li><a href="../task_aws/">Task cloud AWS</a></li>
<li><a href="../task_resources/">Task resources</a></li>
</ul>
<h3 id="ternary-operator-cond-exprtrue-exprfalse">Ternary operator <code>cond ? exprTrue : exprFalse</code></h3>
<p>The ternary oprator is <code>cond ? exprTrue : exprFalse</code></p>
<p>This operator evaluates <code>cond</code>:</p>
<ul>
<li>If <code>cond</code> is <code>true</code> then it evaluates and returns <code>exprTrue</code>.</li>
<li>If <code>cond</code> is <code>false, it evalautes and return</code>exprFalse`.</li>
</ul>
<p>For example, here we calculate the "sign" of number <code>x</code></p>
<pre><code>sign = ( x &gt;= 0 ? 1 : -1 )
</code></pre>
<h3 id="throw"><code>throw</code></h3>
<p>Throws an exception, that might be captured by a <code>try</code> / <code>catch</code> block:</p>
<pre><code>class MyException extends Exception { }

void myFunction() {
    if( rand() &lt; 0.5) throw new MyException()
}
</code></pre>
<p>Any object can be thrown, it does not have to be a subtype of <code>Exception</code>, but it is better if it is.</p>
<p>For example, you can throw a <code>string</code>:</p>
<pre><code>throw &quot;This will be wrapped into an exception&quot;
</code></pre>
<h3 id="try-catch-finally"><code>try</code> / <code>catch</code> / <code>finally</code></h3>
<p>The <code>try</code> / <code>catch</code> / <code>finally</code> combination is used to to capture exceptions. For example:</p>
<pre><code>class MyException extends Exception { }

// Half of the time this function fails and thorws an exception
void myFunction() {
    if( rand() &lt; 0.5) throw new MyException()
}

try {
    // This code block might throw an exception
    myFunction() 
} catch(MyException e) {
    // This block is executes only if the `try` block
    // throws an exception of type `MyException`
    println &quot;MyException was thrown: $e&quot;
} finally {
    // This code is ALWAYS executed
    println &quot;Finally, we are finished&quot;
} 
</code></pre>
<h3 id="variable-assignment">Variable assignment</h3>
<p><code>var = expr</code> evaluates expression 'expr' and assign result to 'var'</p>
<pre><code>i = j + 1
s = &quot;Hello &quot; + world
</code></pre>
<h3 id="variable-assignment-multiple">Variable assignment (multiple)</h3>
<p><code>( var1, var2, ..., varN ) = expr</code> evaluates expression 'expr' (which must return a list) and assign results to 'var1', 'var2', etc. If the list size is less than the number of variables, variables are assigned default values (e.g. '0' for int). If the list has more values, they are ignored.</p>
<pre><code>(name, value) = line.split('\t')
</code></pre>
<h3 id="variable-declarations">Variable declarations</h3>
<p>Declare variable 'var' as type 'type'</p>
<pre><code>int i      # 'i' is an 64 bit int variable
real r     # 'r' is a double-precision floating-point number
string s   # 's' is a string
</code></pre>
<p><code>type varName = expr</code> declares variable 'var' as type 'type', evaluate expression and assign result to initialize 'var'.</p>
<pre><code>int i = 42
real r = 3.1415927
string s = &quot;Hello!&quot;
</code></pre>
<p><code>varName := expr</code> declares variable 'var', use type inference, evaluate expression 'expr' and assign result to initialize 'var'</p>
<pre><code>i := 42
r := 3.1415927
s := &quot;Hello!&quot;
</code></pre>
<h3 id="wait"><code>wait</code></h3>
<p>Wait for a task, a list of tasks, or all tasks to finish exxecution.
<a href="../wait/">See details in the "wait" section</a></p>
<h3 id="warning"><code>warning</code></h3>
<p>Show a warning message</p>
<pre><code>if( num &lt;= 0 )  warning &quot;Number should be positive\n&quot;
</code></pre>
<h3 id="while"><code>while</code></h3>
<p>Typical <code>while</code> iterator</p>
<pre><code>while( i &lt; 10 ) i++
</code></pre>
<h2 id="function-definition">Function definition</h2>
<p>Here is a simple (and useless), function definition example:</p>
<pre><code>// Define a function
int sumPositive(int n) {
    if( n &lt;= 0 )    return 0

    int sum = 0
    for( int i=0 ; i &lt;= n ; i++ ) sum = sum + i
    return sum
}

// Function definition in one line
int twice(int n)    return( 2 * n )

// Main
n := 5
print(&quot;The sum is : &quot; + sumPositive( twice(n) ) + &quot;\n&quot; )
</code></pre>
<p>Obviously, if you run it</p>
<pre><code>$ bds z.bds 
The sum is : 55
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../special/" class="btn btn-neutral float-right" title="Special operators">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../hello/" class="btn btn-neutral" title="Hello world"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../hello/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../special/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
