<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Reports - bds programming language</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Reports";
    var mkdocs_page_input_path = "reports.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> bds programming language</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Manual</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="..">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../download/">Download</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../syntax_highlight/">Syntax highlight</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../hello/">Hello world</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../language/">Language</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../special/">Special operators</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../data_types/">Data types</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../classes/">Classes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../functions/">Functions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../global_vars/">Global variables</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../pipelines/">Pipelines</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../sys/">Sys</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../task/">Tasks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../task_detached/">Tasks: Detached</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../task_imp/">Tasks: Improper</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../task_aws/">Tasks: Cloud AWS</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../task_resources/">Tasks: Resources</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../wait/">Wait</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../dep_op/">Dependency operator</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../goal/">Goal</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../remote_files/">Remote files</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../par/">Parallel execution</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../checkpoints/">Checkpoints</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../test_cases/">Test cases</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../debugger/">Debugger</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cmdline/">Command line parsing</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../help/">Command line help</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../logging/">Logging</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Reports</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#html-report">Html report</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#html-report-program">Html report: Program</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#html-report-timeline">Html report: Timeline</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#html-report-tasks">Html report: Tasks</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#html-report-parallel">Html report: Parallel</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#yaml-report">YAML report</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#csv-report-task-time-vs-input-output-file-sizes">CSV Report: Task time vs Input / Output file sizes</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cleanup/">Cleanup</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bdscmdline/">bds command line</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bdsconfig/">Config file</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bds_vm/">Bds VM</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">bds programming language</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Manual &raquo;</li>
        
      
    
    <li>Reports</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="reports">Reports</h1>
<p><code>bds</code> will create HTML and/or YAML reports with summary information and some details for each task executed.
These reports can be very useful for debugging bds programs implementing complex pipelines.</p>
<h2 id="html-report">Html report</h2>
<p><code>bds</code>, when run using the <code>-log</code> command line option, produces an HTML report every one minute (if there are tasks executing) or at the end of the script (if any task was executed).
The report is roughly divided in these sections: Program, Timeline, Parallel, Tasks</p>
<p>The report file name is</p>
<pre><code>program_file.bds.YYYYMMDD_hhmmss_ms.report.html
</code></pre>
<p>where:</p>
<ul>
<li><code>program_file.bds</code> is the program file name</li>
<li><code>YYYYMMDD</code> is the year, month and day when the program was executed</li>
<li><code>hhmmss_ms</code> is hour, minute, seconds and milliseconds when the program was executed</li>
</ul>
<h3 id="html-report-program">Html report: Program</h3>
<p>Program name, command line arguments, system type, execution start time and elapsed time, etc.</p>
<p><img alt="bds report main section" src="../img/bds_report_main.png" /></p>
<h3 id="html-report-timeline">Html report: Timeline</h3>
<p>Shows the timeline for all tasks (keep in mind that the colors have no meaning).</p>
<p><img alt="bds report timeline section" src="../img/bds_report_timeline.png" /></p>
<h3 id="html-report-tasks">Html report: Tasks</h3>
<p>Several details about each executed task: </p>
<ul>
<li>First column: task number (sequential), task name, task ID, PID, etc.</li>
<li>Second column: exit code, task state, state of dependencies, number of retries, required CPUs and memory.</li>
<li>Third column: Start / end time, elapsed time and timouts.</li>
<li>Fourth column: Dependencies input files, output files and task IDs of dependecies.</li>
<li>Fifth column: Program shell file, STDOUT (tail 10 lines), STDERR (tail 10 lines), output file checking, post-mortem information.</li>
</ul>
<p><img alt="bds report tasks section" src="../img/bds_report_task_details.png" /></p>
<p><em>Note:</em> The second column is colored in red when the task had execution 'ERROR' state.</p>
<h3 id="html-report-parallel">Html report: Parallel</h3>
<p>Detail about execution threads. Only usefull if your program has <code>par</code> statements, in this example there are no <code>par</code> statements, so the section only contains one item (main thread) whihc executed all the tasks.</p>
<p><img alt="bds report parallel section" src="../img/bds_report_par.png" /></p>
<h2 id="yaml-report">YAML report</h2>
<p>The YAML reports contains the same information than the HTML report, but in YAML format so it can be easily injested by analysis programs.</p>
<p>The report file name is</p>
<pre><code>program_file.bds.YYYYMMDD_hhmmss_ms.report.yaml
</code></pre>
<p>where:</p>
<ul>
<li><code>program_file.bds</code> is the program file name</li>
<li><code>YYYYMMDD</code> is the year, month and day when the program was executed</li>
<li><code>hhmmss_ms</code> is hour, minute, seconds and milliseconds when the program was executed</li>
</ul>
<h2 id="csv-report-task-time-vs-input-output-file-sizes">CSV Report: Task time vs Input / Output file sizes</h2>
<p>This report shows task details as well as input / output file sizes.
This report is useful to analyze execution times and find task execution anomalies.</p>
<p>This is a CSV formatted file, so you can load it and analyze it in Excel or Python.</p>
<p>The report file name is</p>
<pre><code>program_file.bds.YYYYMMDD_hhmmss_ms.time_size.csv
</code></pre>
<p>where:</p>
<ul>
<li><code>program_file.bds</code> is the program file name</li>
<li><code>YYYYMMDD</code> is the year, month and day when the program was executed</li>
<li><code>hhmmss_ms</code> is hour, minute, seconds and milliseconds when the program was executed</li>
</ul>
<p>The columns in this report are:</p>
<ul>
<li><code>task_done_ok</code>: This boolean field indicates if the task finished successfully, and without any errors </li>
<li><code>task_state</code>: Task state</li>
<li><code>task_exit_value</code>: Exit code from task's shell script</li>
<li><code>task_name</code>: Task name (i.e. <code>taskName</code> variable defined in the task)</li>
<li><code>task_id</code>: Task ID (created internally by <code>bds</code>)</li>
<li><code>cpus</code>: Number of CPUs requested for this task</li>
<li><code>mem</code>: Amount of memory (in bytes) requested for this task (-1 means "unlimited")</li>
<li><code>custom_resources</code>: List of custom resources and values (e.g. <code>gpus=4</code>). If there is more than one custom resource, the list is separated by semicolons</li>
<li><code>time_in_seconds</code>: Task's execution time in seconds.</li>
<li><code>total_input_file_size</code>: Sum of all the task's input file sizes</li>
<li><code>total_output_file_size</code>: Sum of all the task's output file sizes</li>
<li><code>input_file_size_details</code>: List of all the task's input files and their sizes (i.e. <code>filename=size</code>). If there is more than one input file, the list is separated by semicolons</li>
<li><code>output_file_size_details</code>: List of all the task's output files and their sizes (i.e. <code>filename=size</code>). If there is more than one output file, the list is separated by semicolons</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../cleanup/" class="btn btn-neutral float-right" title="Cleanup">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../logging/" class="btn btn-neutral" title="Logging"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../logging/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../cleanup/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
